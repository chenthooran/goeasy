<div class="box-header">
    <h3>WHAT IS GOING ON</h3>
</div>

<div class="box-body" style="height: 245px; overflow-y: scroll; margin-right: 1rem;"
     infinite-scroll
     [infiniteScrollDistance]="2"
     [infiniteScrollThrottle]="500"
     (scrolled)="onScroll()"
     [scrollWindow]="true">
   
    <div class="list">
        <div class="list-item" *ngFor="let activity of whatisgoingonTimelines; let i=index">
            <div>
                <a href="#" class="list-left">
                    <span class="w-40 avatar">
                        <img class="circle responsive-img" src={{activity.userImage}}>
                    </span>
                </a>
                <div class="pull-right" style="color: #8e8484;">
                    <small class="lv-small" *ngIf="activity.dateFormat != 'TODAY'">{{activity.date}}</small>
                    <small class="lv-small" *ngIf="activity.dateFormat == 'TODAY'">{{activity.time}}</small>
                </div>
                <div class="list-body">
                    <div>
                        <a role="button" data-toggle="collapse" data-parent="#accordion" href=#i{{i}} aria-expanded="false" style="padding-left: 0">
                            {{activity.title}}
                        </a>
                    </div>
                    <small class="text-muted text-ellipsis" style="">
                        <a style="cursor: pointer" (click)="select(activity)">
                            <span class="common-tag" *ngFor="let tag of activity.tags | slice: 0:4; let last = last; let j = index">
                                {{tag.name}}
                                <span *ngIf="last && j==3" >...</span>
                            </span>
                        </a> 
                    </small>
                </div>
                <div id=i{{i}} class="panel-collapse collapse custom-panel-collapse">
                    <div class="panel-body">
                        <div [innerHTML]="activity.description"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

